<div class="sidebar" [class.expanded]="sidebarService.isExpanded$ | async">
  <div class="sidebar-content">
    <ul class="nav flex-column main-menu">
      <!-- 1. الرئيسية -->
      <li class="nav-item" id="1" *ngIf="hasPermission(1)">
        <a class="nav-link" [routerLink]="['/home']" routerLinkActive="active">
          <i class="fas fa-home"></i>
          <span>{{ 'HOME.TITLE' | translate }}</span>
        </a>
      </li>

      <li class="nav-item" id="100" *ngIf="hasPermission(100)">
        <a class="nav-link" [routerLink]="['/dashboard']" routerLinkActive="active">
          <i class="fa fa-dashboard"></i>
          <span>{{ 'MENU.DASHBOARD' | translate }}</span>
        </a>
      </li>

      <!-- 2. مشاهدة الحضور -->
      <li class="nav-item" id="35" *ngIf="hasPermission(35)">
        <a class="nav-link" [routerLink]="['/attendance/view-attendance']" routerLinkActive="active">
          <i class="fas fa-table-list"></i>
          <span>{{ 'MENU.ATTENDANCE' | translate }}</span>
        </a>
      </li>

      <!-- 3. تطبيق موجود -->
      <li class="nav-item" id="2" *ngIf="hasPermission(2)">
        <a class="nav-link" [routerLink]="['/mobile-and-app/mawjood-app']" routerLinkActive="active">
          <i class="fa fa-mobile-alt"></i>
          <span>{{ 'MENU.MAWJOOD_APP' | translate }}</span>
        </a>
      </li>

      <!-- 4. التقارير -->
      <li class="nav-item" id="99" *ngIf="hasPermission(99)">
        <a class="nav-link" [routerLink]="['/reports']" routerLinkActive="active">
          <i class="fa fa fa-print"></i>
          <span>{{ 'MENU.REPORTS' | translate }}</span>
        </a>
      </li>

      <!-- 5. بيانات الحضور -->
      <li class="nav-item" routerLinkActive="active" id="72" *ngIf="hasAnyChildPermission([33, 70, 111])">
        <div [routerLink]="['/attendance']">
          <a class="nav-link" (click)="toggleSubmenu('attendance')" [class.expanded]="isSubmenuOpen('attendance')">
            <i class="fa-regular fa-check-square"></i>
            <span class="ps-1">{{ 'MENU.ATTENDANCE_DATA' | translate }}</span>
            <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
          </a>
        </div>

        <ul class="nav flex-column submenu ps-3" [class.show]="isSubmenuOpen('attendance')">
          <li id="33" *ngIf="hasPermission(33)"><a class="nav-link" [routerLink]="['/attendance/punch-in-transactions']"
              routerLinkActive="active"><span>{{ 'MENU.ATTENDANCE_DATA_SECTIONS.PUNCH_TRANSACTION' | translate }}</span></a></li>
          <li id="70" *ngIf="hasPermission(70)"><a class="nav-link" [routerLink]="['/attendance/view-attendance']" routerLinkActive="active">
            <span>{{ 'MENU.ATTENDANCE_DATA_SECTIONS.ATTENDANCE' | translate }}</span></a></li>
          <li id="111" *ngIf="hasPermission(111)"><a class="nav-link" [routerLink]="['/attendance/change-attendance-time']"
              routerLinkActive="active"><span>{{ 'MENU.ATTENDANCE_DATA_SECTIONS.CHANGE_ATTENDANCE_TIME' | translate }}</span></a></li>
        </ul>
      </li> 

      <!-- 6. فترات الدوام -->
      <li class="nav-item" id="21" *ngIf="hasAnyChildPermission([78, 39, 23, 121, 259])">
        <div [routerLink]="['/shifts-section']">
          <a class="nav-link" (click)="toggleSubmenu('shifts')" [class.expanded]="isSubmenuOpen('shifts')">
            <i class="fa-regular fa-calendar-days"></i>
            <span class="ps-1">{{ 'MENU.SHIFTS' | translate }}</span>
            <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
          </a>
        </div>
        <ul class="nav flex-column submenu ps-3" [class.show]="isSubmenuOpen('shifts')">
          <li id="78" *ngIf="hasPermission(78)"><a class="nav-link" [routerLink]="['/shifts-section/shifts']" routerLinkActive="active">{{ 'MENU.SHIFTS_SECTIONS.SHIFTS' | translate }}</a></li>
          <li id="39" *ngIf="hasPermission(39)"><a class="nav-link" [routerLink]="['/shifts-section/automatic-sign']" routerLinkActive="active">
            {{ 'MENU.SHIFTS_SECTIONS.AUTOMATIC_SIGN' | translate }}
          </a></li>
          <li id="23" *ngIf="hasPermission(23)"><a class="nav-link" [routerLink]="['/shifts-section/shifts-assign']" routerLinkActive="active">
            {{ 'MENU.SHIFTS_SECTIONS.SHIFTS_ASSIGN' | translate }}
          </a></li>
          <li id="121" *ngIf="hasPermission(121)"><a class="nav-link" [routerLink]="['/shifts-section/missing-days']" routerLinkActive="active">
            {{ 'MENU.SHIFTS_SECTIONS.MISSING_DAYS' | translate }}
          </a></li>
          <li id="259" *ngIf="hasPermission(259)"><a class="nav-link" [routerLink]="['/shifts-section/timtran-lock']" routerLinkActive="active">
            {{ 'MENU.SHIFTS_SECTIONS.TIMTRAN_LOCK' | translate }}
          </a></li>
        </ul>
      </li>

      <!-- 7. الاجازات والمهام -->
      <li class="nav-item" id="74" *ngIf="hasAnyChildPermission([113, 11, 43, 65, 117, 205])">
        <div [routerLink]="['/vacation-tasks']">

          <a class="nav-link" (click)="toggleSubmenu('leaves')" [class.expanded]="isSubmenuOpen('leaves')">
            <i class="fa fa fa-tasks"></i>
            <span>{{ 'MENU.VACATION_TASKS' | translate }}</span>
            <i class=" ms-auto fas fa-chevron-down submenu-arrow"></i>
          </a>
        </div>
        <ul class="ps-3 nav flex-column submenu" [class.show]="isSubmenuOpen('leaves')">
          <li id="113" *ngIf="hasPermission(113)"><a class="nav-link" [routerLink]="['/vacation-tasks/attendance-status-classifications']"
              routerLinkActive="active">{{ 'MENU.VACATION_TASKS_SECTIONS.ATTENDANCE_STATUS_CLASSIFICATION' | translate }}</a></li>
          <li id="11" *ngIf="hasPermission(11)"><a class="nav-link" [routerLink]="['/vacation-tasks/attendance-statuses']" routerLinkActive="active">
            {{ 'MENU.VACATION_TASKS_SECTIONS.ATTENDANCE_STATUSES' | translate }}
          </a></li>
          <li id="43" *ngIf="hasPermission(43)"><a class="nav-link" [routerLink]="['/vacation-tasks/handle-statuses-priority']" routerLinkActive="active">
            {{ 'MENU.VACATION_TASKS_SECTIONS.STATUS_PRIORITY_ORDER' | translate }}
          </a></li>
          <li id="65" *ngIf="hasPermission(65)"><a class="nav-link" [routerLink]="['/vacation-tasks/days-handle']" routerLinkActive="active">
            {{ 'MENU.VACATION_TASKS_SECTIONS.DAYS_HANDLE' | translate }}
          </a></li>
          <li id="117" *ngIf="hasPermission(117)"><a class="nav-link" [routerLink]="['/vacation-tasks/handle-statuses-employee-balance']"
              routerLinkActive="active">{{ 'MENU.VACATION_TASKS_SECTIONS.EMPLOYEE_BALANCES' | translate }}</a></li>
          <li id="205" *ngIf="hasPermission(205)"><a class="nav-link" [routerLink]="['/vacation-tasks/my-balance']" routerLinkActive="active">
            {{ 'MENU.VACATION_TASKS_SECTIONS.MY_BALANCE' | translate }}
          </a></li>
        </ul>
      </li>

      <!-- 8. الطلبات و الموافقات -->
      <li class="nav-item" id="69" *ngIf="hasAnyChildPermission([41, 51, 132, 97, 102, 108])">
        <div [routerLink]="['/requests-and-approvals']">
          <a class="nav-link" (click)="toggleSubmenu('requests')" [class.expanded]="isSubmenuOpen('requests')">
            <i class="fas fa-check-square"></i>
            <span>{{ 'MENU.REQUESTS_APPROVALS' | translate }}</span>
            <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
          </a>
        </div>
        <ul class="ps-3 nav flex-column submenu" [class.show]="isSubmenuOpen('requests')">
          <li id="41" *ngIf="hasPermission(41)"><a class="nav-link" [routerLink]="['/requests-and-approvals/steps-to-approve-changing-time']" routerLinkActive="active">
            {{ 'MENU.REQUESTS_APPROVALS_SECTIONS.TIME_CHANGE_APPROVAL_STEPS' | translate }}</a></li>
          <li id="51" *ngIf="hasPermission(51)"><a class="nav-link" [routerLink]="['/requests-and-approvals/attendance-time-change-request']" routerLinkActive="active">
            {{ 'MENU.REQUESTS_APPROVALS_SECTIONS.ATTENDANCE_TIME_CHANGE_REQUEST' | translate }}</a></li>
          <li id="132" *ngIf="hasPermission(132)"><a class="nav-link" [routerLink]="['/requests-and-approvals/post-request']" routerLinkActive="active">
            {{ 'MENU.REQUESTS_APPROVALS_SECTIONS.POST_REQUEST' | translate }}</a></li>
          <li id="97" *ngIf="hasPermission(97)"><a class="nav-link" [routerLink]="['/requests-and-approvals/request-approval-route']" routerLinkActive="active">
            {{ 'MENU.REQUESTS_APPROVALS_SECTIONS.REQUEST_APPROVAL_ROUTE' | translate }}</a></li>
          <li id="102" *ngIf="hasPermission(102)"><a class="nav-link" [routerLink]="['/requests-and-approvals/request-approval-vacations']" routerLinkActive="active">
            {{ 'MENU.REQUESTS_APPROVALS_SECTIONS.REQUESTS_APPROVAL_VACATIONS' | translate }}</a></li>
          <li id="108" *ngIf="hasPermission(108)"><a class="nav-link" [routerLink]="['/requests-and-approvals/delete-completed-request']" routerLinkActive="active">
            {{ 'MENU.REQUESTS_APPROVALS_SECTIONS.DELETE_COMPLETED_REQUESTS' | translate }}</a></li>
        </ul>
      </li>     
      
      <!-- 9. تتبع المواقع -->
      <li class="nav-item" id="141" *ngIf="hasAnyChildPermission([145, 146])">
        <div [routerLink]="['/tracking-locations']">
          <a class="nav-link" (click)="toggleSubmenu('locations')" [class.expanded]="isSubmenuOpen('locations')">
            <i class="fa-solid fa-location-arrow"></i>
            <span class="ps-1">{{ 'MENU.TRACKING_LOCATIONS' | translate }}</span>
            <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
          </a>
        </div>
        <ul class="ps-3 nav flex-column submenu" [class.show]="isSubmenuOpen('locations')">
          <li id="145" *ngIf="hasPermission(145)"><a class="nav-link" [routerLink]="['/tracking-locations/location-tracking-details']" routerLinkActive="active">
            {{ 'MENU.TRACKING_LOCATIONS_SECTIONS.LOCATION_TRACKING_DETAILS' | translate }}</a></li>
          <li id="146" *ngIf="hasPermission(146)"><a class="nav-link" [routerLink]="['/tracking-locations/location-tracking-transactions']" routerLinkActive="active">
            {{ 'MENU.TRACKING_LOCATIONS_SECTIONS.LOCATION_TRACKING_TRANSACTIONS' | translate }}</a></li>
        </ul>
      </li>      
      
      <!-- 10. الجوال و التطبيق -->
      <li class="nav-item" id="84" *ngIf="hasAnyChildPermission([133, 13, 29, 122, 130, 96])">
        <div [routerLink]="['/mobile-and-app']">
          <a class="nav-link" (click)="toggleSubmenu('mobile')" [class.expanded]="isSubmenuOpen('mobile')">
            <i class="fas fa-mobile-alt"></i>
            <span>{{ 'MENU.MOBILE_APP' | translate }}</span>
            <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
          </a>
        </div>
        <ul class="ps-3 nav flex-column submenu" [class.show]="isSubmenuOpen('mobile')">
          <li id="133" *ngIf="hasPermission(133)"><a class="nav-link" [routerLink]="['/mobile-and-app/mawjood-app']" routerLinkActive="active">
            {{ 'MENU.MOBILE_APP_SECTIONS.MAWJOOD_APP' | translate }}</a></li>
          <li id="13" *ngIf="hasPermission(13)"><a class="nav-link" [routerLink]="['/mobile-and-app/send-app-qr-code']" routerLinkActive="active">
            {{ 'MENU.MOBILE_APP_SECTIONS.SEND_APP_QR_CODE' | translate }}</a></li>
          <li id="29" *ngIf="hasPermission(29)"><a class="nav-link" [routerLink]="['/mobile-and-app/app-devices']" routerLinkActive="active">
            {{ 'MENU.MOBILE_APP_SECTIONS.APP_DEVICES' | translate }}</a></li>   
          <li id="122" *ngIf="hasPermission(122)"><a class="nav-link" [routerLink]="['/mobile-and-app/mobile-sign-location-assign']" routerLinkActive="active">
            {{ 'MENU.MOBILE_APP_SECTIONS.MOBILE_SIGN_LOCATION_ASSIGN' | translate }}</a></li>
          <li id="130" *ngIf="hasPermission(130)"><a class="nav-link" [routerLink]="['/mobile-and-app/mobile-sign-transaction']" routerLinkActive="active">
            {{ 'MENU.MOBILE_APP_SECTIONS.MOBILE_SIGN_TRANSACTION' | translate }}</a></li>
          <li id="96" *ngIf="hasPermission(96)"><a class="nav-link" [routerLink]="['/mobile-and-app/mobile-sign-locations']" routerLinkActive="active">
            {{ 'MENU.MOBILE_APP_SECTIONS.MOBILE_SIGN_LOCATIONS' | translate }}</a></li>
        </ul>
      </li>     
      
      <!-- 11. الرواتب -->
      <li class="nav-item" id="86" *ngIf="hasAnyChildPermission([103, 105, 119, 131, 120])">
        <div [routerLink]="['/salaries']">
          <a class="nav-link" (click)="toggleSubmenu('salaries')" [class.expanded]="isSubmenuOpen('salaries')">
            <i class="fas fa-money-bill-alt"></i>
            <span>{{ 'MENU.SALARIES' | translate }}</span>
            <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
          </a>
        </div>
        <ul class="ps-3 nav flex-column submenu" [class.show]="isSubmenuOpen('salaries')">
          <li id="103" *ngIf="hasPermission(103)"><a class="nav-link" [routerLink]="['/salaries/salary-add-deducts']" routerLinkActive="active">
            {{ 'MENU.SALARIES_SECTIONS.SALARY_ADDONS_DEDUCTS_ASSIGN' | translate }}</a></li>
          <li id="105" *ngIf="hasPermission(105)"><a class="nav-link" [routerLink]="['/salaries/salary-add-ons-deducts']" routerLinkActive="active">
            {{ 'MENU.SALARIES_SECTIONS.SALARY_ADDONS_DEDUCTS' | translate }}</a></li>
          <li id="119" *ngIf="hasPermission(119)"><a class="nav-link" [routerLink]="['/salaries/salaries-calculation']" routerLinkActive="active">
            {{ 'MENU.SALARIES_SECTIONS.SALARIES_CALCULATION' | translate }}</a></li>
          <li id="131" *ngIf="hasPermission(131)"><a class="nav-link" [routerLink]="['/salaries/my-salary']" routerLinkActive="active">
            {{ 'MENU.SALARIES_SECTIONS.MY_SALARY' | translate }}</a></li>
          <li id="120" *ngIf="hasPermission(120)"><a class="nav-link" [routerLink]="['/salaries/salaries-details']" routerLinkActive="active">
            {{ 'MENU.SALARIES_SECTIONS.SALARIES_DETAILS' | translate }}</a></li>
        </ul>
      </li>
      <!-- 12. البيانات الاساسية -->
      <li class="nav-item" id="80" *ngIf="hasAnyChildPermission([53, 75, 83, 128, 106, 156, 160, 164, 95, 104, 107, 151, 153, 155, 157, 158, 159, 161, 163, 165, 166, 167, 168, 169, 170, 253, 263, 269, 279, 188, 195, 187, 196, 197, 198, 211])">
        <div [routerLink]="['/primary-data']">
        <a class="nav-link" (click)="toggleSubmenu('basicData')" [class.expanded]="isSubmenuOpen('basicData')">
          <i class="fas fa-info"></i>
          <span>{{ 'MENU.PRIMARY_DATA' | translate }}</span>
          <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
        </a>
        </div>
        <ul class="ps-3 nav flex-column submenu" [class.show]="isSubmenuOpen('basicData')">
          <!-- 12.1 البيانات العامه -->
          <li id="183" *ngIf="hasAnyChildPermission([53, 75, 83, 128, 106, 156, 160, 164])">
            <div [routerLink]="['/primary-data/general-data']" routerLinkActive="active">
            <a class="pe-3 nav-link" (click)="toggleSubmenu('generalData')" [class.expanded]="isSubmenuOpen('generalData')">
              <i class="fas fa-database"></i>
              <span>{{ 'MENU.PRIMARY_DATA_SECTIONS.GENERAL_DATA' | translate }}</span>
              <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
            </a>
            </div>
            <ul class="nav flex-column nested-submenu" [class.show]="isSubmenuOpen('generalData')">
              <li id="53" *ngIf="hasPermission(53)"><a class="nav-link" [routerLink]="['/primary-data/branches']" routerLinkActive="active"><i class="fas fa-building"></i><span>{{ 'MENU.GENERAL_DATA.BRANCHES' | translate }}</span></a></li>
              <li id="75" *ngIf="hasPermission(75)"><a class="nav-link" [routerLink]="['/primary-data/departments']" routerLinkActive="active"><i class="fas fa-sitemap"></i><span>{{ 'MENU.GENERAL_DATA.DEPARTMENTS' | translate }}</span></a></li>
              <li id="83" *ngIf="hasPermission(83)"><a class="nav-link" [routerLink]="['/primary-data/employees']" routerLinkActive="active"><i class="fas fa-users"></i><span>{{ 'MENU.GENERAL_DATA.EMPLOYEES' | translate }}</span></a></li>
              <li id="128" *ngIf="hasPermission(128)"><a class="nav-link" [routerLink]="['/primary-data/nationalities']" routerLinkActive="active"><i class="fas fa-flag"></i><span>{{ 'MENU.GENERAL_DATA.NATIONALITIES' | translate }}</span></a></li>
              <li id="106" *ngIf="hasPermission(106)"><a class="nav-link" [routerLink]="['/primary-data/banks']" routerLinkActive="active"><i class="fas fa-university"></i><span>{{ 'MENU.GENERAL_DATA.BANKS' | translate }}</span></a></li>
              <li id="156" *ngIf="hasPermission(156)"><a class="nav-link" [routerLink]="['/primary-data/cities']" routerLinkActive="active"><i class="fas fa-city"></i><span>{{ 'MENU.GENERAL_DATA.CITIES' | translate }}</span></a></li>
              <li id="160" *ngIf="hasPermission(160)"><a class="nav-link" [routerLink]="['/primary-data/organization']" routerLinkActive="active"><i class="fas fa-user-graduate"></i><span>{{ 'MENU.GENERAL_DATA.ORGANIZATION' | translate }}</span></a></li>
              <li id="164" *ngIf="hasPermission(164)"><a class="nav-link" [routerLink]="['/primary-data/province']" routerLinkActive="active"><i class="fas fa-map-marker-alt"></i><span>{{ 'MENU.GENERAL_DATA.PROVINCE' | translate }}</span></a></li>
            </ul>
          </li>
          <!-- 12.2 بيانات موجود -->
          <li id="184" *ngIf="hasAnyChildPermission([95, 104, 107])">
          <div [routerLink]="['/primary-data/mawjood-data']">
            <a class="pe-3 nav-link" (click)="toggleSubmenu('mawjoodData')" [class.expanded]="isSubmenuOpen('mawjoodData')">
              <i class="fas fa-file-alt"></i>
              <span>{{ 'MENU.PRIMARY_DATA_SECTIONS.MAWJOOD_DATA' | translate }}</span>
              <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
            </a>
            </div>
            <ul class="nav flex-column nested-submenu" [class.show]="isSubmenuOpen('mawjoodData')">
              <li id="95" *ngIf="hasPermission(95)"><a class="nav-link" [routerLink]="['/primary-data/employees-statuses']"><i class="fas fa-user-check"></i><span>{{ 'MENU.MAWJOOD_DATA_SECTIONS.EMPLOYEE_STATUSES' | translate }}</span></a></li>
              <li id="104" *ngIf="hasPermission(104)"><a class="nav-link" [routerLink]="['/primary-data/jobs']"><i class="fas fa-briefcase"></i><span>{{ 'MENU.MAWJOOD_DATA_SECTIONS.JOBS' | translate }}</span></a></li>
              <li id="107" *ngIf="hasPermission(107)"><a class="nav-link" [routerLink]="['/primary-data/employees-documents']"><i class="fas fa-file-signature"></i><span>{{ 'MENU.MAWJOOD_DATA_SECTIONS.EMPLOYEE_DOCUMENTS' | translate }}</span></a></li>
            </ul>
          </li>
          <!-- 12.3 بيانات الاتصالات الادارية -->
          <li id="174" *ngIf="hasAnyChildPermission([151, 153, 155, 157, 158, 159, 161, 163, 165, 166, 167, 168, 169, 170, 253, 263, 269, 279])">
            <div [routerLink]="['/primary-data/cts-data']">
              <a class="pe-3 nav-link" (click)="toggleSubmenu('ctsData')" [class.expanded]="isSubmenuOpen('ctsData')">
                <i class="fas fa-exchange-alt"></i>
                <span>{{ 'MENU.CTS_DATA.TITLE' | translate }}</span>
                <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
              </a>
            </div>
            <ul class="nav flex-column nested-submenu" [class.show]="isSubmenuOpen('ctsData')">
              <li id="151" *ngIf="hasPermission(151)"><a class="nav-link" [routerLink]="['/primary-data/action']"><i class="fas fa-tasks"></i><span>{{ 'MENU.CTS_DATA.ACTION' | translate }}</span></a></li>
              <li id="153" *ngIf="hasPermission(153)"><a class="nav-link" [routerLink]="['/primary-data/position']"><i class="fas fa-id-badge"></i><span>{{ 'MENU.CTS_DATA.POSITION' | translate }}</span></a></li>
              <li id="155" *ngIf="hasPermission(155)"><a class="nav-link" [routerLink]="['/primary-data/my-list']"><i class="fas fa-list"></i><span>{{ 'MENU.CTS_DATA.MY_LIST' | translate }}</span></a></li>
              <li id="157" *ngIf="hasPermission(157)"><a class="nav-link" [routerLink]="['/primary-data/document-template']"><i class="fas fa-file-alt"></i><span>{{ 'MENU.CTS_DATA.DOCUMENT_TEMPLATE' | translate }}</span></a></li>
              <li id="158" *ngIf="hasPermission(158)"><a class="nav-link" [routerLink]="['/primary-data/delivery-mode']"><i class="fas fa-truck"></i><span>{{ 'MENU.CTS_DATA.DELIVERY_MODE' | translate }}</span></a></li>
              <li id="159" *ngIf="hasPermission(159)"><a class="nav-link" [routerLink]="['/primary-data/document-type']"><i class="fas fa-file-contract"></i><span>{{ 'MENU.CTS_DATA.DOCUMENT_TYPE' | translate }}</span></a></li>
              <li id="161" *ngIf="hasPermission(161)"><a class="nav-link" [routerLink]="['/primary-data/keywords']"><i class="fas fa-key"></i><span>{{ 'MENU.CTS_DATA.KEYWORDS' | translate }}</span></a></li>
              <li id="163" *ngIf="hasPermission(163)"><a class="nav-link" [routerLink]="['/primary-data/priority-level']"><i class="fas fa-exclamation"></i><span>{{ 'MENU.CTS_DATA.PRIORITY_LEVEL' | translate }}</span></a></li>
              <li id="165" *ngIf="hasPermission(165)"><a class="nav-link" [routerLink]="['/primary-data/security-level']"><i class="fas fa-shield-alt"></i><span>{{ 'MENU.CTS_DATA.SECURITY_LEVEL' | translate }}</span></a></li>
              <li id="166" *ngIf="hasPermission(166)"><a class="nav-link" [routerLink]="['/primary-data/subject-class']"><i class="fas fa-folder"></i><span>{{ 'MENU.CTS_DATA.SUBJECT_CLASS' | translate }}</span></a></li>
              <li id="167" *ngIf="hasPermission(167)"><a class="nav-link" [routerLink]="['/primary-data/document-color']"><i class="fas fa-palette"></i><span>{{ 'MENU.CTS_DATA.DOCUMENT_COLOR' | translate }}</span></a></li>
              <li id="168" *ngIf="hasPermission(168)"><a class="nav-link" [routerLink]="['/primary-data/transaction-status']"><i class="fas fa-info-circle"></i><span>{{ 'MENU.CTS_DATA.TRANSACTION_STATUS' | translate }}</span></a></li>
              <li id="169" *ngIf="hasPermission(169)"><a class="nav-link" [routerLink]="['/primary-data/urgency-level']"><i class="fas fa-bolt"></i><span>{{ 'MENU.CTS_DATA.URGENCY_LEVEL' | translate }}</span></a></li>
              <li id="170" *ngIf="hasPermission(170)"><a class="nav-link" [routerLink]="['/primary-data/approval-routes']"><i class="fas fa-route"></i><span>{{ 'MENU.CTS_DATA.APPROVAL_ROUTES' | translate }}</span></a></li>
              <li id="253" *ngIf="hasPermission(253)"><a class="nav-link" [routerLink]="['/primary-data/all-data']"><i class="fas fa-search"></i><span>{{ 'MENU.CTS_DATA.ALL_DATA' | translate }}</span></a></li>
              <li id="263" *ngIf="hasPermission(263)"><a class="nav-link" [routerLink]="['/primary-data/parallel-document']"><i class="fas fa-random"></i><span>{{ 'MENU.CTS_DATA.PARALLEL_DOCUMENT' | translate }}</span></a></li>
              <li id="269" *ngIf="hasPermission(269)"><a class="nav-link" [routerLink]="['/primary-data/security-policy']"><i class="fas fa-lock"></i><span>{{ 'MENU.CTS_DATA.SECURITY_POLICY' | translate }}</span></a></li>
              <li id="279" *ngIf="hasPermission(279)"><a class="nav-link" [routerLink]="['/primary-data/masar-application']"><i class="fas fa-mobile-alt"></i><span>{{ 'MENU.CTS_DATA.MASAR_APPLICATION' | translate }}</span></a></li>
            </ul>
          </li>
          <!-- 12.4 بيانات المجالس و اللجان -->
          <li id="185" *ngIf="hasAnyChildPermission([188, 195, 187, 196, 197, 198, 211])">
            <div [routerLink]="['/primary-data/committees-data']">
              <a class="pe-3 nav-link" (click)="toggleSubmenu('committeesData')" [class.expanded]="isSubmenuOpen('committeesData')">
                <i class="fas fa-users-cog"></i>
                <span>{{ 'MENU.COMMITTEES_DATA.TITLE' | translate }}</span>
                <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
              </a>
            </div>
            <ul class="nav flex-column nested-submenu" [class.show]="isSubmenuOpen('committeesData')">
              <li id="188" *ngIf="hasPermission(188)"><a class="nav-link" [routerLink]="['/primary-data/committees']"><i class="fas fa-chalkboard-teacher"></i><span>{{ 'MENU.COMMITTEES_DATA.COMMITTEES' | translate }}</span></a></li>
              <li id="195" *ngIf="hasPermission(195)"><a class="nav-link" [routerLink]="['/primary-data/committee-members']"><i class="fas fa-user-friends"></i><span>{{ 'MENU.COMMITTEES_DATA.COMMITTEE_MEMBERS' | translate }}</span></a></li>
              <li id="187" *ngIf="hasPermission(187)"><a class="nav-link" [routerLink]="['/primary-data/committee-invitations']"><i class="fas fa-envelope-open-text"></i><span>{{ 'MENU.COMMITTEES_DATA.COMMITTEE_INVITATIONS' | translate }}</span></a></li>
              <li id="196" *ngIf="hasPermission(196)"><a class="nav-link" [routerLink]="['/primary-data/committee-route']"><i class="fas fa-route"></i><span>{{ 'MENU.COMMITTEES_DATA.COMMITTEE_ROUTE' | translate }}</span></a></li>
              <li id="197" *ngIf="hasPermission(197)"><a class="nav-link" [routerLink]="['/primary-data/committee-subject-classes']"><i class="fas fa-clipboard-list"></i><span>{{ 'MENU.COMMITTEES_DATA.COMMITTEE_SUBJECT_CLASSES' | translate }}</span></a></li>
              <li id="198" *ngIf="hasPermission(198)"><a class="nav-link" [routerLink]="['/primary-data/voting-types']"><i class="fas fa-vote-yea"></i><span>{{ 'MENU.COMMITTEES_DATA.VOTING_TYPES' | translate }}</span></a></li>
              <li id="211" *ngIf="hasPermission(211)"><a class="nav-link" [routerLink]="['/primary-data/meeting-and-subjects']"><i class="fas fa-file-alt"></i><span>{{ 'MENU.COMMITTEES_DATA.MEETING_AND_SUBJECTS' | translate }}</span></a></li>
            </ul>
          </li>
        </ul>
      </li>      
      
      <!-- 13. الرسائل والاشعارات -->
      <li class="nav-item" id="71" *ngIf="hasAnyChildPermission([27, 101, 124, 98, 126])">
        <div [routerLink]="['/messages-and-notifications']">
          <a class="nav-link" (click)="toggleSubmenu('notifications')" [class.expanded]="isSubmenuOpen('notifications')">
            <i class="fas fa-envelope"></i>
            <span>{{ 'MENU.MESSAGES_NOTIFICATIONS' | translate }}</span>
            <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
          </a>
        </div>
        <ul class="nav flex-column submenu" [class.show]="isSubmenuOpen('notifications')">
          <li id="27" *ngIf="hasPermission(27)"><a class="nav-link" [routerLink]="['/messages-and-notifications/system-messages']" routerLinkActive="active">
            <i class="fas fa-message"></i>
            {{ 'MENU.MESSAGES_NOTIFICATIONS_SECTIONS.SYSTEM_MESSAGES' | translate }}
          </a></li>
          <li id="101" *ngIf="hasPermission(101)"><a class="nav-link" [routerLink]="['/messages-and-notifications/notifications-text']" routerLinkActive="active">
            <i class="fas fa-bell-concierge"></i>
            {{ 'MENU.MESSAGES_NOTIFICATIONS_SECTIONS.NOTIFICATIONS_TEXTS' | translate }}
          </a></li>
          <li id="124" *ngIf="hasPermission(124)"><a class="nav-link" [routerLink]="['/messages-and-notifications/news']" routerLinkActive="active">
            <i class="fas fa-newspaper"></i>
            {{ 'MENU.MESSAGES_NOTIFICATIONS_SECTIONS.NEWS' | translate }}
          </a></li>
          <li id="98" *ngIf="hasPermission(98)"><a class="nav-link" [routerLink]="['/messages-and-notifications/send-notifications']" routerLinkActive="active">
            <i class="fas fa-paper-plane"></i>
            {{ 'MENU.MESSAGES_NOTIFICATIONS_SECTIONS.SEND_NOTIFICATIONS' | translate }}
          </a></li>
          <li id="126" *ngIf="hasPermission(126)"><a class="nav-link" [routerLink]="['/messages-and-notifications/notifications-settings']" routerLinkActive="active">
            <i class="fas fa-gear"></i>
            {{ 'MENU.MESSAGES_NOTIFICATIONS_SECTIONS.NOTIFICATIONS_SETTINGS' | translate }}
          </a></li>
        </ul>
      </li>

      <!-- 14. ادارة الصلاحيات -->
      <li class="nav-item" id="79" *ngIf="hasAnyChildPermission([77, 81, 85, 89, 91, 59, 73, 92, 93, 3, 5, 37, 136])">
        <div [routerLink]="['/permission-managements']" routerLinkActive="active">
        <a class="nav-link" (click)="toggleSubmenu('permissions')" [class.expanded]="isSubmenuOpen('permissions')">
          <i class="fa-solid fa-users"></i>
          <span class="ps-1">{{ 'MENU.PERMISSION_MANAGEMENT.TITLE' | translate }}</span>
          <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
        </a>
        </div>
        <ul class="nav flex-column submenu" [class.show]="isSubmenuOpen('permissions')">
          <!-- 14.1 الصلاحيات علي النظام -->
          <li id="127" *ngIf="hasAnyChildPermission([77, 81, 85, 89, 91])">
            <div [routerLink]="['/permission-managements/premissions-on-system']" routerLinkActive="active">
            <a class="pe-3 nav-link" (click)="toggleSubmenu('systemPermissions')"
              [class.expanded]="isSubmenuOpen('systemPermissions')">
              <i class="fas fa-shield-alt"></i>
              <span>{{ 'MENU.PERMISSION_MANAGEMENT.PERMISSIONS_ON_SYSTEM' | translate }}</span>
              <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
            </a>
            </div>
            <ul class="nav flex-column nested-submenu" [class.show]="isSubmenuOpen('systemPermissions')">
              <li id="77" *ngIf="hasPermission(77)"><a class="nav-link" [routerLink]="['/permission-managements/user-roles']"><i class="fas fa-user-tag"></i><span>{{ 'MENU.PERMISSION_MANAGEMENT.SYSTEM_PERMISSIONS.USER_ROLES' | translate }}</span></a></li>
              <li id="81" *ngIf="hasPermission(81)"><a class="nav-link" [routerLink]="['/permission-managements/user-role-assignment']"><i class="fas fa-user-shield"></i><span>{{ 'MENU.PERMISSION_MANAGEMENT.SYSTEM_PERMISSIONS.USER_ROLE_ASSIGNMENTS' | translate }}</span></a></li>
              <li id="85" *ngIf="hasPermission(85)"><a class="nav-link" [routerLink]="['/permission-managements/role-chart-rights']"><i class="fas fa-chart-line"></i><span>{{ 'MENU.PERMISSION_MANAGEMENT.SYSTEM_PERMISSIONS.ROLE_CHART_RIGHTS' | translate }}</span></a></li>
              <li id="89" *ngIf="hasPermission(89)"><a class="nav-link" [routerLink]="['/permission-managements/role-module-rights']"><i class="fas fa-key"></i><span>{{ 'MENU.PERMISSION_MANAGEMENT.SYSTEM_PERMISSIONS.ROLE_MODULE_RIGHTS' | translate }}</span></a></li>
              <li id="91" *ngIf="hasPermission(91)"><a class="nav-link" [routerLink]="['/permission-managements/role-report-rights']"><i class="fas fa-file-alt"></i><span>{{ 'MENU.PERMISSION_MANAGEMENT.SYSTEM_PERMISSIONS.ROLE_REPORT_RIGHTS' | translate }}</span></a>
              </li>
            </ul>
          </li>
          <!-- 14.2 عناصر النظام الاساسي -->
          <li id="129" *ngIf="hasAnyChildPermission([59, 73, 92, 93])">
            <div [routerLink]="['/permission-managements/basic-system-items']" routerLinkActive="active">
            <a class="pe-3 nav-link" (click)="toggleSubmenu('systemElements')"
              [class.expanded]="isSubmenuOpen('systemElements')">
              <i class="fas fa-cogs"></i>
              <span>{{ 'MENU.PERMISSION_MANAGEMENT.BASIC_SYSTEM_ITEMS' | translate }}</span>
              <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
            </a>
            </div>
            <ul class="nav flex-column nested-submenu" [class.show]="isSubmenuOpen('systemElements')">
              <li id="59" *ngIf="hasPermission(59)"><a class="nav-link" [routerLink]="['/permission-managements/charts-list']"><i class="fas fa-chart-line"></i>{{ 'MENU.PERMISSION_MANAGEMENT.BASIC_SYSTEM.CHARTS_LIST' | translate }}</a></li>
              <li id="73" *ngIf="hasPermission(73)"><a class="nav-link" [routerLink]="['/permission-managements/report-list']"><i class="fas fa-file-alt"></i>{{ 'MENU.PERMISSION_MANAGEMENT.BASIC_SYSTEM.REPORTS_LIST' | translate }}</a></li>
              <li id="92" *ngIf="hasPermission(92)"><a class="nav-link" [routerLink]="['/permission-managements/system-menus']"><i class="fas fa-list"></i>{{ 'MENU.PERMISSION_MANAGEMENT.BASIC_SYSTEM.SYSTEM_MENUS' | translate }}</a></li>
              <li id="93" *ngIf="hasPermission(93)"><a class="nav-link" [routerLink]="['/permission-managements/system-modules']"><i class="fas fa-th"></i>{{ 'MENU.PERMISSION_MANAGEMENT.BASIC_SYSTEM.SYSTEM_MODULES' | translate }}</a></li>
            </ul>
          </li>
          <!-- 14.3 الصلاحيات علي البيانات -->
          <li id="82" *ngIf="hasAnyChildPermission([3, 5, 37, 136])">
            <div [routerLink]="['/permission-managements/permission-on-data']" routerLinkActive="active">
            <a class="pe-3 nav-link" (click)="toggleSubmenu('dataPermissions')"
              [class.expanded]="isSubmenuOpen('dataPermissions')">
              <i class="fas fa-key"></i>
              <span>{{ 'MENU.PERMISSION_MANAGEMENT.PERMISSIONS_ON_DATA' | translate }}</span>
              <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
            </a>
            </div>
            <ul class="nav flex-column nested-submenu" [class.show]="isSubmenuOpen('dataPermissions')">
              <li id="3" *ngIf="hasPermission(3)"><a class="nav-link" [routerLink]="['/permission-managements/access-permissions']"><i class="fas fa-key"></i><span>{{ 'MENU.PERMISSION_MANAGEMENT.DATA_PERMISSIONS.ACCESS_PERMISSIONS' | translate }}</span></a></li>
              <li id="5" *ngIf="hasPermission(5)"><a class="nav-link" [routerLink]="['/permission-managements/access-permissions-summary']"><i class="fas fa-clipboard-list"></i><span>{{ 'MENU.PERMISSION_MANAGEMENT.DATA_PERMISSIONS.ACCESS_PERMISSIONS_SUMMARY' | translate }}</span></a></li>
              <li id="37" *ngIf="hasPermission(37)"><a class="nav-link" [routerLink]="['/permission-managements/request-post-premisions']"><i class="fas fa-paper-plane"></i><span>{{ 'MENU.PERMISSION_MANAGEMENT.DATA_PERMISSIONS.REQUEST_POST_PERMISSIONS' | translate }}</span></a></li>
              <li id="136" *ngIf="hasPermission(136)"><a class="nav-link"  [routerLink]="['/permission-managements/permissions-delegations']"><i class="fas fa-user-friends"></i><span>{{ 'MENU.PERMISSION_MANAGEMENT.DATA_PERMISSIONS.PERMISSIONS_DELEGATIONS' | translate }}</span></a></li>
            </ul>
          </li>
        </ul>
      </li>     
      
      <!-- 15. التدقيق و المتابعة -->
      <li class="nav-item" id="76" *ngIf="hasAnyChildPermission([115, 63, 114, 109])">
        <div [routerLink]="['/audit-and-tracing']" routerLinkActive="active">
        <a class="nav-link" (click)="toggleSubmenu('audit')" [class.expanded]="isSubmenuOpen('audit')">
          <i class="fa-regular fa-rectangle-list"></i>
          <span class="ps-1">{{ 'MENU.AUDIT_TRACING' | translate }}</span>
          <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
        </a>
        </div>
        <ul class="nav flex-column submenu" [class.show]="isSubmenuOpen('audit')">
          <li id="115" *ngIf="hasPermission(115)"><a class="nav-link" [routerLink]="['/audit-and-tracing/track-changes']" routerLinkActive="active">
            <i class="fas fa-history"></i>
            <span>{{ 'MENU.AUDIT_TRACING_SECTIONS.TRACK_OPEN_DOCUMENT' | translate }}</span>
          </a></li>
          <li id="63" *ngIf="hasPermission(63)"><a class="nav-link" [routerLink]="['/audit-and-tracing/login-trace']" routerLinkActive="active">
            <i class="fas fa-sign-in-alt"></i>
            <span>{{ 'MENU.AUDIT_TRACING_SECTIONS.TRACK_OPEN_DOCUMENT_TRANSACTION' | translate }}</span>
          </a></li>
          <li id="114" *ngIf="hasPermission(114)"><a class="nav-link" [routerLink]="['/audit-and-tracing/error-logs']" routerLinkActive="active">
            <i class="fas fa-exclamation-triangle"></i>
            <span>{{ 'MENU.AUDIT_TRACING_SECTIONS.ERROR_LOGS' | translate }}</span>
          </a></li>
          <li id="109" *ngIf="hasPermission(109)"><a class="nav-link" [routerLink]="['/audit-and-tracing/tables-trace-settings']" routerLinkActive="active">
            <i class="fas fa-table"></i>
            <span>{{ 'MENU.AUDIT_TRACING_SECTIONS.LOGIN_TRACE' | translate }}</span>
          </a></li>
        </ul>
      </li>

      <!-- 16. ادارة النظام -->
      <li class="nav-item" id="87" *ngIf="hasAnyChildPermission([19, 49, 55, 125, 123])">
        <div [routerLink]="['/system-management']">
          <a class="nav-link" (click)="toggleSubmenu('systemManagement')" [class.expanded]="isSubmenuOpen('systemManagement')">
            <i class="fas fa-cogs"></i>
            <span>{{ 'MENU.SYSTEM_MANAGEMENT' | translate }}</span>
            <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
          </a>
        </div>
        <ul class="nav flex-column submenu" [class.show]="isSubmenuOpen('systemManagement')">
          <li id="19" *ngIf="hasPermission(19)">
            <a class="nav-link" [routerLink]="['/system-management/system-setup']" routerLinkActive="active">
              <i class="fas fa-sliders-h"></i>
              <span>{{ 'MENU.SYSTEM_MANAGEMENT_SECTIONS.SYSTEM_SETUP' | translate }}</span>
            </a>
          </li>
          <li id="49" *ngIf="hasPermission(49)">
            <a class="nav-link" [routerLink]="['/system-management/hijri-data']" routerLinkActive="active">
              <i class="fas fa-calendar-alt"></i>
              <span>{{ 'MENU.SYSTEM_MANAGEMENT_SECTIONS.HIJRI_DATE_DATA' | translate }}</span>
            </a>
          </li>
          <li id="55" *ngIf="hasPermission(55)">
            <a class="nav-link" [routerLink]="['/system-management/language-data']" routerLinkActive="active">
              <i class="fas fa-language"></i>
              <span>{{ 'MENU.SYSTEM_MANAGEMENT_SECTIONS.LANGUAGE_DATA' | translate }}</span>
            </a>
          </li>
          <li id="125" *ngIf="hasPermission(125)">
            <a class="nav-link" [routerLink]="['/system-management/user-profile']" routerLinkActive="active">
              <i class="fas fa-user-circle"></i>
              <span>{{ 'MENU.SYSTEM_MANAGEMENT_SECTIONS.USER_PROFILE' | translate }}</span>
            </a>
          </li>
          <li id="123" *ngIf="hasPermission(123)">
            <a class="nav-link" [routerLink]="['/system-management/sessions-management']" routerLinkActive="active">
              <i class="fas fa-clock"></i>
              <span>{{ 'MENU.SYSTEM_MANAGEMENT_SECTIONS.SESSIONS_MANAGEMENT' | translate }}</span>
            </a>
          </li>
        </ul>
      </li>

      <!-- 17. الرقابه -->
      <li class="nav-item" id="234" *ngIf="hasAnyChildPermission([230, 232, 233])">
        <div [routerLink]="['/consorship']">
          <a class="nav-link" (click)="toggleSubmenu('supervision')" [class.expanded]="isSubmenuOpen('supervision')">
            <i class="fas fa-shield-alt"></i>
            <span>{{ 'MENU.CONSORSHIP' | translate }}</span>
            <i class="ms-auto fas fa-chevron-down submenu-arrow"></i>
          </a>
        </div>
        <ul class="nav flex-column submenu" [class.show]="isSubmenuOpen('supervision')">
          <li id="230" *ngIf="hasPermission(230)">
            <a class="nav-link" [routerLink]="['/consorship/tour-available']" routerLinkActive="active">
              <i class="fas fa-check-circle"></i>
              <span>{{ 'MENU.CONSORSHIP_SECTIONS.CENSORSHIP_TOUR' | translate }}</span>
            </a>
          </li>
          <li id="232" *ngIf="hasPermission(232)">
            <a class="nav-link" [routerLink]="['/consorship/tour-unavailable']" routerLinkActive="active">
              <i class="fas fa-times-circle"></i>
              <span>{{ 'MENU.CONSORSHIP_SECTIONS.CENSORSHIP_TOUR' | translate }}</span>
            </a>
          </li>
          <li id="233" *ngIf="hasPermission(233)">
            <a class="nav-link" [routerLink]="['/consorship/alarms']" routerLinkActive="active">
              <i class="fas fa-bell"></i>
              <span>{{ 'MENU.CONSORSHIP_SECTIONS.ALARMS' | translate }}</span>
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </div>
  <div class="sidebar-overlay" *ngIf="sidebarService.isExpanded$ | async" (click)="sidebarService.collapse()"></div>
</div>